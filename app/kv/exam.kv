#:kivy 2.1.0
#:import * exam

<ExamList>:
    orientation: 'vertical'
    spacing: dp(8)
    padding: dp(8)

    MDBoxLayout:
        adaptive_height: True
        MDIconButton:
            icon: 'magnify'
        MDTextField:
            id: search_field
            hint_text: 'Buscar examen'
            on_text: root.populate(self.text, True)

    RecycleView:
        id: rv
        key_viewclass: 'viewclass'
        key_size: 'height'

        RecycleBoxLayout:
            padding: dp(8)
            default_size: None, None
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'

<PatientSelector>:
    orientation: 'vertical'
    spacing: dp(8)
    padding: dp(8)

    MDBoxLayout:
        adaptive_height: True
        MDIconButton:
            icon: 'magnify'
        MDTextField:
            id: search_field
            hint_text: 'Buscar paciente'
            on_text: root.set_patient_list(self.text, True)

    RecycleView:
        id: rv
        key_viewclass: 'viewclass'
        key_size: 'height'

        RecycleBoxLayout:
            padding: dp(8)
            default_size: None, None
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'

<ExamMetadataDetail>:
    orientation: 'vertical'
    adaptive_height: True
    padding: dp(8)
    spacing: dp(8)
    md_bg_color: "#f4dedc"
    MDLabel:
        text: root.title
        size_hint_x: 1
        size_hint_y: 0.2
        halign: 'center'
        font_style: "Subtitle2"
    MDBoxLayout:
        orientation: 'horizontal'
        adaptive_height: True
        padding: dp(8)
        spacing: dp(8)
        OKIconItem:
            id: info
            size_hint_x: 0.5
        MDLabel:
            id: status
            font_style: "Button"
            size_hint_x: 0.25
            theme_text_color: "Custom"
    MDBoxLayout:
        orientation: 'horizontal'
        adaptive_height: True
        spacing: dp(4)
        padding: dp(4)
        OKIconItem:
            id: spo2
            icon: 'water-percent'
        OKIconItem:
            id: weight_pd
            icon: 'weight-pound'
        OKIconItem:
            id: pressure
            icon: 'gauge'
    MDBoxLayout:
        orientation: 'horizontal'
        adaptive_height: True
        spacing: dp(4)
        padding: dp(4)
        OKIconItem:
            id: bpm
            icon: 'heart'
        OKIconItem:
            id: sample_rate
            icon: 'chart-timeline-variant'
        OKIconItem:
            id: leads
            icon: 'heart-flash'


<ExamMetadataForm>:
    orientation: 'vertical'
    padding: dp(16)
    spacing: dp(16)
    md_bg_color: "#f4dedc"
    adaptive_height: True
    MDLabel:
        text: root.title
        halign: 'center'
        font_style: "Subtitle2"
    OKIconItem:
        id: info
    MDBoxLayout:
        orientation: 'horizontal'
        adaptive_height: True
        spacing: dp(8)
        MDTextField:
            id: spo2
            icon_left: 'water-percent'
            hint_text: "SpO2"
            helper_text: "Ej.: 95"
        MDTextField:
            id: weight_pd
            icon_left: 'weight-pound'
            hint_text: "Peso (lb)"
            helper_text: "Ej.: 190"
        MDTextField:
            id: pressure
            icon_left: 'gauge'
            hint_text: "Presi√≥n"
            helper_text: "Ej.: 120/80"
    MDTextField:
        id: notes
        icon_left: 'comment-plus'
        hint_text: "Comentarios"

<OKDevicePanel>:
    orientation: 'vertical'
    padding: dp(16)
    spacing: dp(16)
    md_bg_color: "#f4dedc"
    adaptive_height: True
    title: "OpenKardio Device"
    MDLabel:
        text: root.title
        halign: 'center'
        font_style: "Subtitle2"
    MDBoxLayout:
        orientation: 'horizontal'
        padding: dp(8)
        spacing: dp(8)
        md_bg_color: "#f4dedc"
        adaptive_height: True
        MDLabel:
            text: root.status
            halign: 'left'
        MDRaisedButton:
            text: root.button_text
            halign: 'right'
            pos_hint: {'center_y': 0.5}
            md_bg_color: root.button_color
            on_release:
                root.set_state()
    MDBoxLayout:
        orientation:"vertical"
        adaptive_height: True
        spacing: dp(8)
        spacing: dp(24)
        md_bg_color: "#f4dedc"
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: dp(8)
            adaptive_height: True
            OKIconItem:
                id: sample_rate
                icon: 'chart-timeline-variant'
                text: "-- sps"
            OKIconItem:
                id: leads
                icon: 'heart-flash'
                text: "-- leads"
            OKIconItem:
                id: battery
                icon: 'battery-bluetooth-variant'
                text: "-- %"
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: dp(8)
            adaptive_height: True
            OKIconItem:
                id: resolution
                icon: 'stairs-box'
                text: "-- bits"
            OKIconItem:
                id: fwv
                icon: 'memory'
                text: "--"
            OKIconItem:
                id: duration 
                icon: 'timer'
                text: str(app.store["device"]["duration"]) +" secs"
